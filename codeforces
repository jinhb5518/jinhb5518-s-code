#include<bits/stdc++.h>
using namespace std;
int n,m,k,l;
int a[25][25],c[25][25];
int dx[8]={0,0,1,1,1,-1,-1,-1},dy[8]={1,-1,1,0,-1,1,0,-1};
struct node{
	int x,y;
}bo[210],q[210];
void dfs(int x,int y)
{
	bool ok=true;
	if(a[x][y]!=-1||c[x][y]==-1)return;
	/*for(int i=0;i<n;i++)
			{
				for(int j=0;j<m;j++)
				{
					printf("%d ",a[i][j]);
				}puts("");
			}*/
	for(int i=0;i<8;i++){
	    int xx=x+dx[i],yy=y+dy[i];
		if(xx>=0&&xx<n&&yy>=0&&yy<m)if(c[xx][yy]==-1)ok=false;
	}
	if(ok){
		a[x][y]=0;
		for(int i=0;i<8;i++){
			int xx=dx[i]+x,yy=dy[i]+y;
			if(xx>=0&&xx<n&&yy>=0&&yy<m)dfs(xx,yy);
		}
	}
	else {
		int ans=0;
		for(int i=0;i<8;i++){
			int xx=dx[i]+x,yy=dy[i]+y;
			if(xx>=0&&xx<n&&yy>=0&&yy<m&&c[xx][yy]==-1)ans++;
		}
		a[x][y]=ans;
	}
	
	
	
}
int main()
{
    cin>>n>>m>>k>>l;
    memset(a,-1,sizeof a);
    for(int i=1;i<=k;i++){
    	scanf("%d%d",&bo[i].x,&bo[i].y);
    	c[bo[i].x][bo[i].y]=-1;
	}
	for(int z=1;z<=l;z++){
		
		
		scanf("%d%d",&q[z].x,&q[z].y);
		int x=q[z].x,y=q[z].y;
		if(c[x][y]==-1){puts("You lose");break;}
		else if(a[x][y]==-1)
		{
			dfs(x,y);
			for(int i=0;i<n;i++)
			{
				for(int j=0;j<m;j++)
				{
					printf("%d ",a[i][j]);
				}puts("");
			}
			{
			bool ok=true;int ans=0;
			for(int i=0;i<n;i++)for(int j=0;j<m;j++)if(a[i][j]!=-1)ans++;
			if(ans==n*m-k){
				puts("You win");break;
			}
		    }
			puts("");
		}
		
		
	}
	
} 
